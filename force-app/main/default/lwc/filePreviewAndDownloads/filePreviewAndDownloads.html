<template>
 

    <lightning-card title="File Preview and Download">
      <div style="display: none;">
        {recordId}
    </div>
    <lightning-button variant="Brand" icon-name="utility:download" label="Get JSON File" title="Get JSON File" onclick={handleClick} class="slds-m-left_x-small"></lightning-button>
    </br>
    <template if:true={retrievedRecord}>
      
    <template for:each={filesList} for:item="file">

             <div key={file.value} class="slds-box">
                 <div class="slds-grid slds-wrap">
                     <div class="slds-col slds-large-size_4-of-12 slds-medium-size_4-of-12 slds-size_12-of-12">
                       <p><strong>FileName - </strong>{file.label}</p>
                     </div>
                     <div class="slds-col slds-large-size_4-of-12 slds-medium-size_4-of-12 slds-size_12-of-12">
                       <a href={file.url} download>Download</a>
                     </div>
                     <div class="slds-col slds-large-size_4-of-12 slds-medium-size_4-of-12 slds-size_12-of-12">
                       <lightning-button label="Preview" 
                       variant="brand"
                      data-id={file.value}
                      onclick={previewHandler}
                       ></lightning-button>
                     </div>
                   </div>
             </div>
         </template>
         </template>
         <template if:true={hasError}>
           <div>
             An error has occured.
             </div>
           </template>
    </lightning-card> 

    
 </template>